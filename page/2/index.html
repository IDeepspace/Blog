<!DOCTYPE HTML><html lang="zh-CN"><head><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="keywords" content="Deepspace"><meta name="description" content="Deepspace"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="renderer" content="webkit|ie-stand|ie-comp"><meta name="mobile-web-app-capable" content="yes"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><title>Deepspace</title><link rel="icon" type="image/png" href="/favicon.png"><link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css"><link rel="stylesheet" type="text/css" href="/libs/materialize/css/materialize.min.css"><link rel="stylesheet" type="text/css" href="/libs/aos/aos.css"><link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css"><link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css"><link rel="stylesheet" type="text/css" href="/css/matery.css"><link rel="stylesheet" type="text/css" href="/css/my.css"><script src="/libs/jquery/jquery-2.2.0.min.js"></script><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head></head><body><header class="navbar-fixed"><nav id="headNav" class="bg-color nav-transparent"><div id="navContainer" class="container"><div class="nav-wrapper"><div class="brand-logo"><a href="/" class="waves-effect waves-light"><span></span> <span class="logo-span">Deepspace</span></a></div><a href="#" data-activates="mobile-nav" class="button-collapse"><i class="fa fa-navicon"></i></a><ul class="right"><li class="hide-on-med-and-down"><a href="/" class="waves-effect waves-light"><i class="fa fa-home"></i> <span>首页</span></a></li><li class="hide-on-med-and-down"><a href="/tags" class="waves-effect waves-light"><i class="fa fa-tags"></i> <span>标签</span></a></li><li class="hide-on-med-and-down"><a href="/categories" class="waves-effect waves-light"><i class="fa fa-bookmark"></i> <span>分类</span></a></li><li class="hide-on-med-and-down"><a href="/archives" class="waves-effect waves-light"><i class="fa fa-archive"></i> <span>归档</span></a></li><li class="hide-on-med-and-down"><a href="/about" class="waves-effect waves-light"><i class="fa fa-user-circle-o"></i> <span>关于</span></a></li><li><a id="toggleSearch" class="waves-effect waves-light"><i id="searchIcon" class="mdi-action-search"></i></a></li></ul><div class="side-nav" id="mobile-nav"><div class="mobile-head bg-color"><div class="logo-name">Deepspace</div><div class="logo-desc"> 凡事预 ？立 ：废</div></div><ul class="menu-list mobile-menu-list"><li><a href="/" class="waves-effect waves-light"><i class="fa fa-fw fa-home"></i> 首页</a></li><li><a href="/tags" class="waves-effect waves-light"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li><a href="/categories" class="waves-effect waves-light"><i class="fa fa-fw fa-bookmark"></i> 分类</a></li><li><a href="/archives" class="waves-effect waves-light"><i class="fa fa-fw fa-archive"></i> 归档</a></li><li><a href="/about" class="waves-effect waves-light"><i class="fa fa-fw fa-user-circle-o"></i> 关于</a></li><li><div class="divider"></div></li><li><a href="https://github.com/IDeepspace" class="waves-effect waves-light" target="_blank"><i class="fa fa-github-square fa-fw"></i> Fork Me</a></li></ul><div class="social-link"><a href="https://github.com/IDeepspace" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50"><i class="fa fa-github"></i></a><a href="mailto:cxin1427@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50"><i class="fa fa-envelope-open"></i></a><a href="#!" class="tooltipped" data-tooltip="QQ: 690862036" data-position="top" data-delay="50"><i class="fa fa-qq"></i></a><a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50"><i class="fa fa-rss"></i></a></div></div></div></div><style>.nav-transparent .github-corner{display:none!important}.github-corner{position:absolute;z-index:10;top:0;right:0;border:0;transform:scale(1.1)}.github-corner svg{color:#202020;fill:#fff;height:64px;width:64px}.github-corner:hover .octo-arm{animation:a .56s ease-in-out}.github-corner .octo-arm{animation:none}@keyframes a{0%,to{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}</style> <a href="https://github.com/IDeepspace" class="github-corner tooltipped hide-on-med-and-down" target="_blank" data-tooltip="Fork Me" data-position="left" data-delay="50"><svg viewbox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"/></svg></a></nav></header><main class="content"><div id="home-sections"><div class="container home"><div class="card-content"><div class="col s12 m12"><div class="post-card"><div class="post-body"><div style="text-align:center"> <a href="/what-is-frontend-backend-separation/" target="_blank"><span class="post-title">Web 前端工程化（一） —— 什么是前后端分离？</span></a></div><div class="post-info"><span class="post-cate"><i class="fa fa-bookmark fa-fw icon-category"></i> <a href="/categories/FrontEnd/" class="category-name-of-home" target="_blank">FrontEnd</a></span> <span class="">&nbsp;<i class="fa fa-clock-o fa-fw"></i>2019-10-31</span></div><div class="home-post-brief"><h3 id="一、什么是-Web-开发？"><a href="#一、什么是-Web-开发？" class="headerlink" title="一、什么是 Web 开发？"></a>一、什么是 Web 开发？</h3><p>如果在一个比较高的抽象层面来看待这个问题的话，<strong><code>Web</code> 开发就是在处理客户端请求及服务端响应这两件事</strong>。</p><p><img src="https://github.com/IDeepspace/ImageHosting/raw/master/FrontEnd/web-development.jpg" alt="Web 开发" style="zoom:58%"></p><p>当然，这是抽象。在实际的 <code>Web</code> 开发中，我们会有很多东西需要关注。</p></div><div class="article-tag"> <a href="/tags/Web-前端工程化/" target="_blank"><span class="chip bg-color">Web 前端工程化</span></a> <a href="/tags/前后端分离/" target="_blank"><span class="chip bg-color">前后端分离</span></a></div><a href="/what-is-frontend-backend-separation/" target="_blank" class="read-more btn"><i class="icon fa fa-eye fa-fw"></i> 阅读更多</a></div></div></div><div class="col s12 m12"><div class="post-card"><div class="post-body"><div style="text-align:center"> <a href="/javascript-async/" target="_blank"><span class="post-title">JavaScript 异步处理（ES6）</span></a></div><div class="post-info"><span class="post-cate"><i class="fa fa-bookmark fa-fw icon-category"></i> <a href="/categories/JavaScript/" class="category-name-of-home" target="_blank">JavaScript</a></span> <span class="">&nbsp;<i class="fa fa-clock-o fa-fw"></i>2019-10-29</span></div><div class="home-post-brief"><h3 id="一、Promise-是什么？"><a href="#一、Promise-是什么？" class="headerlink" title="一、Promise 是什么？"></a>一、Promise 是什么？</h3><p>不是讲 <code>async/await</code> 吗？为什么会提到 <code>Promise</code> ？</p><p>实际上，<code>async/await</code> 是 <code>Promise</code> 的一个拓展，所以，想要更好地理解 <code>async/await</code>，需要先理解 <code>Promise</code> 。</p><p>我们先看看 <code>Promise</code> 是什么。先在浏览器中使用 <code>console.dir(Promise)</code> 打印出 <code>Promise</code> 对象的所的属性和方法：</p><p><img src="https://raw.githubusercontent.com/IDeepspace/ImageHosting/master/JavaScript/promise.png" alt="Promise"></p><p>从打印结果可以看出，<code>Promise</code> 是一个构造函数，它自己本身有 <code>all</code>、<code>reject</code>、<code>resolve</code> 等方法，原型上有 <code>catch</code>、<code>finally</code>、<code>then</code> 等方法。所以 <code>new</code> 出来的 <code>Promise</code> 对象也就自然拥有 <code>catch</code>、<code>finally</code>、<code>then</code> 这些方法。从上图中可以看到，<code>then</code> 方法返回的是一个新的 <code>Promise</code> 实例（注意，不是原来那个 <code>Promise</code> 实例）。因此可以采用链式写法，即 <code>then</code> 方法后面再调用另一个 <code>then</code> 方法。</p><p><code>Promise</code> 的中文意思是承诺，这种<strong>“承诺将来会执行”</strong>的对象在 <code>JavaScript</code> 中称为 <code>Promise</code> 对象。简单说就是一个容器，里面保存着某个未来才会执行的事件（通常是一个异步操作）的结果。<br></p></div><div class="article-tag"> <a href="/tags/异步/" target="_blank"><span class="chip bg-color">异步</span></a></div><a href="/javascript-async/" target="_blank" class="read-more btn"><i class="icon fa fa-eye fa-fw"></i> 阅读更多</a></div></div></div><div class="col s12 m12"><div class="post-card"><div class="post-body"><div style="text-align:center"> <a href="/javascript-async-await-in-foreach/" target="_blank"><span class="post-title">在 forEach 中使用 async/await 遇到的问题</span></a></div><div class="post-info"><span class="post-cate"><i class="fa fa-bookmark fa-fw icon-category"></i> <a href="/categories/JavaScript/" class="category-name-of-home" target="_blank">JavaScript</a></span> <span class="">&nbsp;<i class="fa fa-clock-o fa-fw"></i>2019-10-25</span></div><div class="home-post-brief"><h3 id="一、问题描述"><a href="#一、问题描述" class="headerlink" title="一、问题描述"></a>一、问题描述</h3><p>前几天，项目中遇到一个 <code>JavaScript</code> 异步问题：</p><blockquote><p>有一组数据，需要对每一个数据进行一个异步处理，并且希望处理的时候是同步的。</p></blockquote><p>用代码描述如下：</p><pre><code class="javascript">// 生成数据
const getNumbers = () =&gt; {
  return Promise.resolve([1, 2, 3])
}

// 异步处理
const doMulti = num =&gt; {
  return new Promise((resolve, reject) =&gt; {
    setTimeout(() =&gt; {
      if (num) {
        resolve(num * num)
      } else {
        reject(new Error(&#39;num not specified&#39;))
      }
    }, 2000)
  })
}

// 主函数
const main = async () =&gt; {
  console.log(&#39;start&#39;);
  const nums = [1, 2, 3];
  nums.forEach(async (x) =&gt; {
    const res = await doMulti(x);
    console.log(res);
  });
  console.log(&#39;end&#39;);
};

// 执行
main();
</code></pre></div><div class="article-tag"> <a href="/tags/async-await/" target="_blank"><span class="chip bg-color">async/await</span></a></div><a href="/javascript-async-await-in-foreach/" target="_blank" class="read-more btn"><i class="icon fa fa-eye fa-fw"></i> 阅读更多</a></div></div></div><div class="col s12 m12"><div class="post-card"><div class="post-body"><div style="text-align:center"> <a href="/react-ref/" target="_blank"><span class="post-title">React 中的 Refs</span></a></div><div class="post-info"><span class="post-cate"><i class="fa fa-bookmark fa-fw icon-category"></i> <a href="/categories/React/" class="category-name-of-home" target="_blank">React</a></span> <span class="">&nbsp;<i class="fa fa-clock-o fa-fw"></i>2019-10-12</span></div><div class="home-post-brief"></div><div class="article-tag"> <a href="/tags/React/" target="_blank"><span class="chip bg-color">React</span></a></div><a href="/react-ref/" target="_blank" class="read-more btn"><i class="icon fa fa-eye fa-fw"></i> 阅读更多</a></div></div></div><div class="col s12 m12"><div class="post-card"><div class="post-body"><div style="text-align:center"> <a href="/eventemitter/" target="_blank"><span class="post-title">EventEmitter</span></a></div><div class="post-info"><span class="post-cate"><i class="fa fa-bookmark fa-fw icon-category"></i> <a href="/categories/NodeJS/" class="category-name-of-home" target="_blank">NodeJS</a></span> <span class="">&nbsp;<i class="fa fa-clock-o fa-fw"></i>2019-08-20</span></div><div class="home-post-brief"><p><code>Node.js</code> 所有的异步 <code>I/O</code> 操作在完成时都会发送一个事件到事件队列。</p><p>例如，<a href="http://nodejs.cn/s/gBYjux" target="_blank" rel="noopener"><code>net.Server</code></a> 会在每次有新连接时触发事件，<a href="http://nodejs.cn/s/C3Eioq" target="_blank" rel="noopener"><code>fs.ReadStream</code></a> 会在打开文件时触发事件，<a href="http://nodejs.cn/s/kUvpNm" target="_blank" rel="noopener"><code>stream</code></a> 会在数据可读时触发事件。</p><p>所有能触发事件的对象都是 <code>EventEmitter</code> 类的实例。</p><h3 id="一、EventEmitter-类"><a href="#一、EventEmitter-类" class="headerlink" title="一、EventEmitter 类"></a>一、EventEmitter 类</h3><p><code>events</code> 模块只提供了一个对象： <code>events.EventEmitter</code>。<code>EventEmitter</code> 的核心就是事件触发与事件监听器功能的封装。</p><p>我们可以通过 <code>require(&#39;events&#39;);</code> 来访问该模块：</p><pre><code class="javascript">// 引入 events 模块
const Event = require(&#39;events&#39;);
// 创建 eventEmitter 对象
const eventEmitter = new Event.EventEmitter();
</code></pre></div><div class="article-tag"> <a href="/tags/EventEmitter/" target="_blank"><span class="chip bg-color">EventEmitter</span></a></div><a href="/eventemitter/" target="_blank" class="read-more btn"><i class="icon fa fa-eye fa-fw"></i> 阅读更多</a></div></div></div><div class="col s12 m12"><div class="post-card"><div class="post-body"><div style="text-align:center"> <a href="/react-setstate/" target="_blank"><span class="post-title">React setState 的异步与同步</span></a></div><div class="post-info"><span class="post-cate"><i class="fa fa-bookmark fa-fw icon-category"></i> <a href="/categories/React/" class="category-name-of-home" target="_blank">React</a></span> <span class="">&nbsp;<i class="fa fa-clock-o fa-fw"></i>2019-08-19</span></div><div class="home-post-brief"><h3 id="一、如何使用-setState"><a href="#一、如何使用-setState" class="headerlink" title="一、如何使用 setState"></a>一、如何使用 setState</h3><p>在 <code>React</code> 中，一个很重要的点就是不要直接去修改 <code>state</code>，类似于这样的写法：<code>this.state.count = 1</code> ，这种方式是无法触发 <code>React</code> 去更新视图的。因为 <code>React</code> 的机制中规定了：一个 <code>state</code> 的更新，首先需要调用 <code>setState</code> 方法：</p><pre><code class="jsx">this.setState({
    count: 1
})
</code></pre><p>稍有经验的 <code>React</code> 开发者都会知道，<code>setState</code> 方法其实是<strong>异步</strong>的。即 <code>setState</code> 立马执行之后，是无法直接获取到最新的 <code>state</code> 的，需要经过 <code>React</code> 对 <code>state</code> 的所有改变进行合并处理之后，才会去计算新的虚拟 <code>DOM</code>，然后再根据最新的虚拟 <code>DOM</code> 去重新渲染真实 <code>DOM</code>。</p><p><strong>所以，这里我们谈到的异步，并不是异步代码，而是说 <code>react</code> 会先收集变更，然后再进行统一的更新</strong>。</p></div><div class="article-tag"> <a href="/tags/React/" target="_blank"><span class="chip bg-color">React</span></a></div><a href="/react-setstate/" target="_blank" class="read-more btn"><i class="icon fa fa-eye fa-fw"></i> 阅读更多</a></div></div></div><div class="col s12 m12"><div class="post-card"><div class="post-body"><div style="text-align:center"> <a href="/oracle-id-increase/" target="_blank"><span class="post-title">Oracle批量插入数据时ID自增问题</span></a></div><div class="post-info"><span class="post-cate"><i class="fa fa-bookmark fa-fw icon-category"></i> <a href="/categories/DataBase/" class="category-name-of-home" target="_blank">DataBase</a></span> <span class="">&nbsp;<i class="fa fa-clock-o fa-fw"></i>2019-07-29</span></div><div class="home-post-brief"> <p><strong>三步走：</strong></p><p>1、创建序列 sequence</p><pre><code class="sql">create sequence seq_stu
      increment by 1    -- 每次递增1
      start with 1       -- 从1开始
      nomaxvalue      -- 没有最大值
      minvalue 1       -- 最小值=1
      NOCYCLE;      -- 不循环
</code></pre><p>2、为序列创建触发事件</p><pre><code class="sql">create or replace trigger student_id_automation
  before insert
  on student
  for each row
begin
  IF :new.id IS NULL THEN :new.id := seq_stu.nextval;
  end if;
end;
</code></pre></div><div class="article-tag"> <a href="/tags/Oracle/" target="_blank"><span class="chip bg-color">Oracle</span></a></div><a href="/oracle-id-increase/" target="_blank" class="read-more btn"><i class="icon fa fa-eye fa-fw"></i> 阅读更多</a></div></div></div><div class="col s12 m12"><div class="post-card"><div class="post-body"><div style="text-align:center"> <a href="/javascript-module/" target="_blank"><span class="post-title">JavaScript 模块化</span></a></div><div class="post-info"><span class="post-cate"><i class="fa fa-bookmark fa-fw icon-category"></i> <a href="/categories/JavaScript/" class="category-name-of-home" target="_blank">JavaScript</a></span> <span class="">&nbsp;<i class="fa fa-clock-o fa-fw"></i>2019-06-29</span></div><div class="home-post-brief"><h2 id="JavaScript-模块化"><a href="#JavaScript-模块化" class="headerlink" title="JavaScript 模块化"></a>JavaScript 模块化</h2><p><code>JavaScript</code> 模块化的发展历史：无模块化 –&gt; <code>CommonJS</code> 规范 –&gt; <code>AMD</code> 规范 –&gt; <code>CMD</code> 规范 –&gt; <code>ES6</code> 模块化。</p><p>下面我们根据这个发展历史来讲解 <code>JavaScript</code> 模块化的内容。</p><h3 id="一、无模块化"><a href="#一、无模块化" class="headerlink" title="一、无模块化"></a>一、无模块化</h3><pre><code class="javascript">&lt;script src=&quot;jquery.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;jquery_scroller.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;main.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;other1.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;other2.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;other3.js&quot;&gt;&lt;/script&gt;
</code></pre><p>即简单的将所有的 <code>js</code> 文件统统放在一起。但是这些<strong>文件的顺序不能出错</strong>，比如 <code>jquery</code> 需要先引入，才能引入 <code>jquery</code> 插件。缺点很明显：</p><ul><li>污染全局作用域</li><li>维护成本高</li><li>依赖关系不明显</li></ul></div><div class="article-tag"> <a href="/tags/Ajax/" target="_blank"><span class="chip bg-color">Ajax</span></a></div><a href="/javascript-module/" target="_blank" class="read-more btn"><i class="icon fa fa-eye fa-fw"></i> 阅读更多</a></div></div></div></div></div></div></main><div class="container paging"><div class="row"><div class="col s6 m4 l4"><a href="/" class="left btn-floating btn-large waves-effect waves-light bg-color"><i class="fa fa-angle-left"></i></a></div><div class="page-info col m4 l4 hide-on-small-only"><div class="center-align b-text-gray">2 / 12</div></div><div class="col s6 m4 l4"><a href="/page/3/" class="right btn-floating btn-large waves-effect waves-light bg-color"><i class="fa fa-angle-right"></i></a></div></div></div><footer class="page-footer bg-color"><div class="container row center-align"><div class="col s12 m8 l8 copy-right"> <span>COPYRIGHT 2020 DEEPSPACE. ALL RIGHTS RESERVED.</span></div><div class="col s12 m4 l4 social-link"><a href="https://github.com/IDeepspace" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50"><i class="fa fa-github"></i></a><a href="mailto:cxin1427@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50"><i class="fa fa-envelope-open"></i></a><a href="#!" class="tooltipped" data-tooltip="QQ: 690862036" data-position="top" data-delay="50"><i class="fa fa-qq"></i></a><a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50"><i class="fa fa-rss"></i></a></div></div></footer><div class="progress-bar"></div><div id="searchModal" class="modal"><div class="modal-content"><div class="search-header"> <span class="title">搜索</span> <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字" class="search-input" autofocus></div><div id="searchResult"></div></div></div><script src="/js/search.js"></script><script type="text/javascript">searchFunc("/search.xml","searchInput","searchResult")</script><div id="backTop" class="top-scroll"><a class="btn-floating btn-large waves-effect waves-light" href="#!"><i class="fa fa-angle-up"></i></a></div><script src="/libs/materialize/js/materialize.min.js"></script><script src="/libs/masonry/masonry.pkgd.min.js"></script><script src="/libs/aos/aos.js"></script><script src="/libs/scrollprogress/scrollProgress.min.js"></script><script src="/libs/lightGallery/js/lightgallery-all.min.js"></script><script src="/js/matery.js"></script></body></html>