<!DOCTYPE HTML><html lang="zh-CN"><head><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="keywords" content="Flutter — 零、设置开发环境, Deepspace"><meta name="description" content="一、介绍
Flutter 是由 Google 的工程师团队打造的，用于创建高性能、跨平台的移动应用的框架

Flutter 针对当下以及未来的移动设备进行优化，专注于 Android and iOS 低延迟的输入和高帧率

Flutter "><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="renderer" content="webkit|ie-stand|ie-comp"><meta name="mobile-web-app-capable" content="yes"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><title>Flutter — 零、设置开发环境 | Deepspace</title><link rel="icon" type="image/png" href="/favicon.png"><link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css"><link rel="stylesheet" type="text/css" href="/libs/materialize/css/materialize.min.css"><link rel="stylesheet" type="text/css" href="/libs/aos/aos.css"><link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css"><link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css"><link rel="stylesheet" type="text/css" href="/css/matery.css"><link rel="stylesheet" type="text/css" href="/css/my.css"><script src="/libs/jquery/jquery-2.2.0.min.js"></script><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head></head><body><header class="navbar-fixed"><nav id="headNav" class="bg-color nav-transparent"><div id="navContainer" class="container"><div class="nav-wrapper"><div class="brand-logo"><a href="/" class="waves-effect waves-light"><span></span> <span class="logo-span">Deepspace</span></a></div><a href="#" data-activates="mobile-nav" class="button-collapse"><i class="fa fa-navicon"></i></a><ul class="right"><li class="hide-on-med-and-down"><a href="/" class="waves-effect waves-light"><i class="fa fa-home"></i> <span>首页</span></a></li><li class="hide-on-med-and-down"><a href="/tags" class="waves-effect waves-light"><i class="fa fa-tags"></i> <span>标签</span></a></li><li class="hide-on-med-and-down"><a href="/categories" class="waves-effect waves-light"><i class="fa fa-bookmark"></i> <span>分类</span></a></li><li class="hide-on-med-and-down"><a href="/archives" class="waves-effect waves-light"><i class="fa fa-archive"></i> <span>归档</span></a></li><li class="hide-on-med-and-down"><a href="/about" class="waves-effect waves-light"><i class="fa fa-user-circle-o"></i> <span>关于</span></a></li><li><a id="toggleSearch" class="waves-effect waves-light"><i id="searchIcon" class="mdi-action-search"></i></a></li></ul><div class="side-nav" id="mobile-nav"><div class="mobile-head bg-color"><div class="logo-name">Deepspace</div><div class="logo-desc"> 凡事预 ？立 ：废</div></div><ul class="menu-list mobile-menu-list"><li><a href="/" class="waves-effect waves-light"><i class="fa fa-fw fa-home"></i> 首页</a></li><li><a href="/tags" class="waves-effect waves-light"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li><a href="/categories" class="waves-effect waves-light"><i class="fa fa-fw fa-bookmark"></i> 分类</a></li><li><a href="/archives" class="waves-effect waves-light"><i class="fa fa-fw fa-archive"></i> 归档</a></li><li><a href="/about" class="waves-effect waves-light"><i class="fa fa-fw fa-user-circle-o"></i> 关于</a></li><li><div class="divider"></div></li><li><a href="https://github.com/IDeepspace" class="waves-effect waves-light" target="_blank"><i class="fa fa-github-square fa-fw"></i> Fork Me</a></li></ul><div class="social-link"><a href="https://github.com/IDeepspace" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50"><i class="fa fa-github"></i></a><a href="mailto:cxin1427@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50"><i class="fa fa-envelope-open"></i></a><a href="#!" class="tooltipped" data-tooltip="QQ: 690862036" data-position="top" data-delay="50"><i class="fa fa-qq"></i></a><a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50"><i class="fa fa-rss"></i></a></div></div></div></div><style>.nav-transparent .github-corner{display:none!important}.github-corner{position:absolute;z-index:10;top:0;right:0;border:0;transform:scale(1.1)}.github-corner svg{color:#202020;fill:#fff;height:64px;width:64px}.github-corner:hover .octo-arm{animation:a .56s ease-in-out}.github-corner .octo-arm{animation:none}@keyframes a{0%,to{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}</style> <a href="https://github.com/IDeepspace" class="github-corner tooltipped hide-on-med-and-down" target="_blank" data-tooltip="Fork Me" data-position="left" data-delay="50"><svg viewbox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"/></svg></a></nav></header><div class="bg-cover post-cover" style="background-image:url(/medias/featureimages/lighted.jpg)"><div class="container"><div class="row"><div class="col s12 m12 l12"><div class="brand"><div class="description center-align post-detail-title"> Flutter — 零、设置开发环境</div></div></div></div></div></div><main class="post-container content"><link rel="stylesheet" href="/libs/tocbot/tocbot.css"><style>#articleContent h1,#articleContent h2,#articleContent h3,#articleContent h4,#articleContent h5,#articleContent h6{padding-top:76px;margin-top:-76px}#articleContent h1{line-height:3.5rem}#articleContent h2{line-height:3.2rem}#articleContent h3{line-height:2.8rem}#articleContent h4{line-height:2.5rem}#articleContent h5{line-height:2.2rem}#articleContent h6{line-height:1.9rem}#articleContent :focus{outline:0}.toc-fixed{position:fixed;top:64px}.toc-widget{padding-left:20px}.toc-widget .toc-title{margin:35px 0 15px 0;padding-left:17px;font-size:1.5rem;font-weight:700;line-height:1.5rem}.toc-widget ol{padding:0;list-style:none}#toc-content ol{padding-left:10px}#toc-content ol li{padding-left:10px}#toc-content .toc-link:hover{color:#42b983;font-weight:700;text-decoration:underline}#toc-content .toc-link::before{background-color:transparent;max-height:25px}#toc-content .is-active-link{color:#42b983}#toc-content .is-active-link::before{background-color:#42b983}</style><div class="row"><div class="col s12 m12 l9"><div id="artDetail"><div class="card"><div class="card-content article-info"><div class="article-tag"> <a href="/tags/Flutter/" target="_blank"><span class="chip bg-color">Flutter</span></a></div><div class="post-info"><span class="post-cate"><i class="fa fa-bookmark fa-fw icon-category"></i> <a href="/categories/Flutter/" class="post-category" target="_blank">Flutter</a></span><span class="post-date"><i class="fa fa-clock-o fa-fw"></i> 2019-05-09</span></div></div><hr><div class="card-content article-card-content"><div id="articleContent"><h3 id="一、介绍"><a href="#一、介绍" class="headerlink" title="一、介绍"></a>一、介绍</h3><ul><li><p><code>Flutter</code> 是由 <code>Google</code> 的工程师团队打造的，用于创建高性能、跨平台的移动应用的框架</p></li><li><p><code>Flutter</code> 针对当下以及未来的移动设备进行优化，专注于 <code>Android and iOS</code> 低延迟的输入和高帧率</p></li><li><p><code>Flutter</code> 的设计跟 <code>react-native</code> 很像，但是比 <code>RN</code> 进了一步</p></li><li><p><code>Flutter</code> 的开发语言是 <code>Dart</code></p></li><li><p><code>Flutter</code> 的热重载（<code>hot-reload</code>）特性让人惊叹，它能在编 码时为你提供超快的视觉反馈</p></li></ul><h3 id="二、安装"><a href="#二、安装" class="headerlink" title="二、安装"></a>二、安装</h3><h4 id="1、获取-Flutter-SDK"><a href="#1、获取-Flutter-SDK" class="headerlink" title="1、获取 Flutter SDK"></a>1、获取 Flutter SDK</h4><ul><li>将 <code>Flutter</code> 项目克隆到本地：<a id="more"></a></li></ul><blockquote><p> 在电脑上存放文件的时候，我有严重的”洁癖”。之前在用 <code>Windows</code> 的时候，有时候因为不小心把软件安装错盘符，卸载也有残余，我甚至会去重装系统，然后再花上整夜的时间设置各项环境和安装软件。</p><p>所以，这里我单独在根目录创建一个 <code>Development</code> 文件夹来存放克隆下来的 <code>flutter</code> 库，因为之后会用把这个库导入到环境变量里面，避免存放在其他位置造成误操作，也不利于后面的版本升级。</p></blockquote><pre class="language-bash"><code class="language-bash">$ <span class="token function">cd</span> ~
$ <span class="token function">mkdir</span> Development
$ <span class="token function">cd</span> Development/ 
$ <span class="token function">git</span> clone -b beta https://github.com/flutter/flutter.git
</code></pre><ul><li>将 <code>Flutter</code> 添加到本地环境变量：</li></ul><pre class="language-bash"><code class="language-bash">$ vim ~/.bash_profile
</code></pre><p>在国内由于一些原因，还需要设置一下 <code>pub</code> 源，用以下载相关的依赖文件。其中 <code>PUB_HOSTED_URL</code> 和 <code>FLUTTER_STORAGE_BASE_URL</code> 是 <code>google</code> 为国内开发者搭建的临时镜像。</p><p>所以需要在环境变量中添加三个变量：</p><pre class="language-bash"><code class="language-bash"><span class="token function">export</span> PUB_HOSTED_URL<span class="token operator">=</span>https://pub.flutter-io.cn
<span class="token function">export</span> FLUTTER_STORAGE_BASE_URL<span class="token operator">=</span>https://storage.flutter-io.cn
<span class="token function">export</span> PATH<span class="token operator">=</span><span class="token string">"PATH_TO_FLUTTER_GIT_DIRECTORY/flutter/bin:<span class="token variable">$PATH</span>"</span>
</code></pre><p>其中 <code>PATH_TO_FLUTTER_GIT_DIRECTORY</code> 为你的 <code>flutter sdk</code> 的路径（也就是前面 <code>clone</code> 的 <code>repo</code> 地址）。如我这里就是改成：</p><pre class="language-bash"><code class="language-bash"><span class="token function">export</span> PATH<span class="token operator">=</span><span class="token string">"/Users/cxin/Development/flutter/bin:<span class="token variable">$PATH</span>"</span>
</code></pre><ul><li>刷新 <code>bash</code> ，需要 <code>source</code> 一下：</li></ul><pre class="language-bash"><code class="language-bash">$ <span class="token function">source</span> ~/.bash_profile
</code></pre><ul><li>查看 <code>PATH</code> :</li></ul><pre class="language-bash"><code class="language-bash">$ <span class="token keyword">echo</span> <span class="token variable">$PATH</span>
</code></pre><p>可以看到 <code>flutter</code> 已经被写入了。</p><ul><li>验证是否配置成功：</li></ul><pre class="language-bash"><code class="language-bash">$ flutter -h
</code></pre><p>配置成功的话，会展示 <code>flutter</code> 的命令帮助。</p><h4 id="2、运行-flutter-doctor"><a href="#2、运行-flutter-doctor" class="headerlink" title="2、运行 flutter doctor"></a>2、运行 flutter doctor</h4><p>运行以下命令查看是否需要安装一些依赖项以完成安装：</p><pre class="language-bash"><code class="language-bash">$ flutter doctor
</code></pre><blockquote><p>第一次运行 <code>flutter</code> 命令（如<code>flutter doctor</code>）时，它会下载自己的依赖关系并自行编译，所以速度会比较慢，后续的运行应该将会快得多。</p></blockquote><p>该命令将检查你的环境并在终端窗口中显示报告。<code>Dart SDK</code> 是与 <code>Flutter</code> 捆绑在一起的，所以不用再单独安装<code>Dart</code>。</p><p>这里我们需要仔细检查显示出来的报告中是否提示需要安装其他软件或执行其他任务，下面是我的机器的检查报告：</p><pre class="language-bas"><code class="language-bas">Doctor summary (to see all details, run flutter doctor -v):
[✓] Flutter (Channel beta, v1.5.4-hotfix.2, on Mac OS X 10.14.4 18E226, locale en-CN)
[✗] Android toolchain - develop for Android devices
    ✗ Unable to locate Android SDK.
      Install Android Studio from: https://developer.android.com/studio/index.html
      On first launch it will assist you in installing the Android SDK components.
      (or visit https://flutter.dev/setup/#android-setup for detailed instructions).
      If the Android SDK has been installed to a custom location, set ANDROID_HOME to that location.
      You may also want to add it to your PATH environment variable.

[!] iOS toolchain - develop for iOS devices (Xcode 10.2.1)
    ✗ libimobiledevice and ideviceinstaller are not installed. To install with Brew, run:
        brew update
        brew install --HEAD usbmuxd
        brew link usbmuxd
        brew install --HEAD libimobiledevice
        brew install ideviceinstaller
    ✗ ios-deploy not installed. To install:
        brew install ios-deploy
    ✗ CocoaPods not installed.
        CocoaPods is used to retrieve the iOS platform side's plugin code that responds to your plugin usage on the Dart side.
        Without resolving iOS dependencies with CocoaPods, plugins will not work on iOS.
        For more info, see https://flutter.dev/platform-plugins
      To install:
        brew install cocoapods
        pod setup
[!] Android Studio (not installed)
[!] IntelliJ IDEA Ultimate Edition (version 2019.1.1)
    ✗ Flutter plugin not installed; this adds Flutter specific functionality.
    ✗ Dart plugin not installed; this adds Dart specific functionality.
[✓] VS Code (version 1.33.1)
[!] Connected device
    ! No devices available

! Doctor found issues in 5 categories.
</code></pre><p>可以看到，对于每一项需要执行的任务，报告中都给出了相应的解决办法。按照提示执行就好了：</p><pre class="language-bash"><code class="language-bash">Doctor summary <span class="token punctuation">(</span>to see all details, run flutter doctor -v<span class="token punctuation">)</span>:
<span class="token punctuation">[</span>✓<span class="token punctuation">]</span> Flutter <span class="token punctuation">(</span>Channel beta, v1.5.4-hotfix.2, on Mac OS X 10.14.4 18E226, locale en-CN<span class="token punctuation">)</span>

<span class="token punctuation">[</span>✓<span class="token punctuation">]</span> Android toolchain - develop <span class="token keyword">for</span> Android devices <span class="token punctuation">(</span>Android SDK version 28.0.3<span class="token punctuation">)</span>
<span class="token punctuation">[</span>✓<span class="token punctuation">]</span> iOS toolchain - develop <span class="token keyword">for</span> iOS devices <span class="token punctuation">(</span>Xcode 10.2.1<span class="token punctuation">)</span>
<span class="token punctuation">[</span>✓<span class="token punctuation">]</span> Android Studio <span class="token punctuation">(</span>version 3.4<span class="token punctuation">)</span>
<span class="token punctuation">[</span>✓<span class="token punctuation">]</span> IntelliJ IDEA Ultimate Edition <span class="token punctuation">(</span>version 2019.1.1<span class="token punctuation">)</span>
<span class="token punctuation">[</span>✓<span class="token punctuation">]</span> VS Code <span class="token punctuation">(</span>version 1.33.1<span class="token punctuation">)</span>
<span class="token punctuation">[</span>✓<span class="token punctuation">]</span> Connected device <span class="token punctuation">(</span>1 available<span class="token punctuation">)</span>

• No issues found<span class="token operator">!</span>
</code></pre><p>这中间有些是 <code>IDE</code> 的配置，在对应的 <code>IDE</code> 中安装 <code>Dart</code> 和 <code>Flutter</code> 即可。</p><blockquote><p>因为我使用的是 <code>Mac</code>，所以这里只介绍了 <code>macOS</code> 上的配置方法，关于其他系统的配置可以参考官网：<a href="https://flutter.dev/docs/get-started/install" target="_blank" rel="noopener">https://flutter.dev/docs/get-started/install</a></p></blockquote><h3 id="三、创建项目"><a href="#三、创建项目" class="headerlink" title="三、创建项目"></a>三、创建项目</h3><p>我们使用 <code>VSCode</code> 来开发。需要在 <code>VSCode</code> 中安装 <code>Dart</code> 和 <code>Flutter</code> 两个 <code>Extensions</code> 。</p><p>打开 <code>VSCode</code> ，选择 <code>View</code> &gt; <code>Command Palette</code> &gt; <code>Flutter: New Project</code> &gt; <code>Enter Project Name</code> ，<code>VSCode</code> 会自动帮我们创建一个 <code>Flutter</code> 项目。这里我创建的项目名称为 <code>demo</code> 。</p><p>运行 <code>demo</code> :</p><pre class="language-bash"><code class="language-bash">$ flutter run
</code></pre><p>执行报出如下错误：</p><pre class="language-bash"><code class="language-bash">It appears that your application still contains the default signing identifier.
Try replacing <span class="token string">'com.example'</span> with your signing <span class="token function">id</span> <span class="token keyword">in</span> Xcode:
  <span class="token function">open</span> ios/Runner.xcworkspace
</code></pre><p>按照上面的提示，用 <code>Xcode</code> 打开示例项目中的 <code>ios/Runner.xcworkspace</code> 这个文件。</p><p>选择项目菜单 <code>Runner</code> – <code>General</code> 选项 ，可以看到 <code>Signing</code> 中的 <code>Status</code> 提示错误信息：</p><pre class="language-bash"><code class="language-bash">Signing <span class="token keyword">for</span> <span class="token string">"Runner"</span> requires a development team.
Select a development team <span class="token keyword">in</span> the projct editor.
</code></pre><p>点击 <code>Team</code> 选项的 <code>Add Account...</code> 按钮，登录 <code>Apple ID</code> ，没有则需要创建一个。回到 <code>General</code> 界面，选择 <code>Team</code> 名称，等待验证。</p><p>这里我又遇到另外的问题：</p><pre class="language-bash"><code class="language-bash">ailed to create provisioning profile.
The app ID <span class="token string">"com.example.demo"</span> cannot be registered to your development team. Change your bundle identifier to a unique string to try again.

No profiles <span class="token keyword">for</span> <span class="token string">'com.example.demo'</span> were found
Xcode couldn<span class="token string">'t find any iOS App Development provisioning profiles matching '</span>com.example.demo'.
</code></pre><p>找了好久，有人给出一个解决办法：</p><p><strong>将 <code>Bundle Identifier</code> 的值改变一下，比如在结尾随机加上几个数字。</strong></p><p>然后点击 <code>try again</code> ，成功 <code>sign</code> 。</p><p>接下来我们重新执行 <code>flutter run</code> 运行，中间会要求输入密码，能够正常运行了，也支持热加载调试。</p><p><img src="https://github.com/IDeepspace/ImageHosting/raw/master/Flutter/flutter-start-demo.gif" alt="Flutter Demo" style="zoom:50%"></p><h3 id="四、Flutter版本更新"><a href="#四、Flutter版本更新" class="headerlink" title="四、Flutter版本更新"></a>四、Flutter版本更新</h3><p>执行 <code>flutter doctor</code> ，如果有新版本更新，会提醒升级，按照提示，执行 <code>flutter upgrade</code> 进行升级即可。</p></div><hr><style>#reward{margin:40px 0;text-align:center}#reward .reward-link{font-size:1.88rem}#reward .btn-floating:hover{box-shadow:0 6px 12px rgba(0,0,0,.2),0 5px 15px rgba(0,0,0,.2)}#rewardModal{width:320px;height:350px}#rewardModal .reward-title{margin:15px auto;padding-bottom:5px}#rewardModal .modal-content{padding:10px}#rewardModal .close{position:absolute;right:15px;top:15px;color:rgba(0,0,0,.5);font-size:1.3rem;line-height:20px;cursor:pointer}#rewardModal .reward-tabs{margin:0 auto;width:210px}.reward-tabs .tabs{height:38px;margin:10px auto;padding-left:0}.reward-tabs .tabs .tab{height:38px;line-height:38px}.reward-tabs .tab a{color:#fff;background-color:#ccc}.reward-tabs .tab a:hover{color:#fff}.reward-tabs .wechat-tab .active{color:#fff;background-color:#22ab38}.reward-tabs .alipay-tab .active{color:#fff;background-color:#019fe8}.reward-tabs .reward-img{width:210px;height:210px}</style><div id="reward"> <a class="reward-link btn-floating btn-large waves-effect waves-light red">赏</a><div id="rewardModal" class="modal"><div class="modal-content"><a class="close"><i class="fa fa-close"></i></a><h4 class="reward-title">请我喝杯咖啡?</h4><div class="reward-content"><div class="reward-tabs"><ul class="tabs"><li class="tab wechat-tab waves-effect waves-light"><a class="active" href="#wechat">微信</a></li><li class="tab alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li></ul><div id="wechat"> <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码"></div><div id="alipay"> <img src="/medias/reward/alipay.png" class="reward-img" alt="支付宝打赏二维码"></div></div></div></div></div></div><script>$(function(){$("#reward .reward-link").on("click",function(){$("#rewardModal").openModal()}),$("#rewardModal .close").on("click",function(){$("#rewardModal").closeModal()})})</script><link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css"><div id="article-share"><div class="social-share" data-disabled="qzone" data-wechat-qrcode-helper="<p>微信里点“发现”->“扫一扫”二维码便可查看分享。</p>"></div></div><script src="/libs/share/js/social-share.min.js"></script><div class="reprint"><p> <span class="reprint-tip">转载请注明:</span> <a href="https://togoblog.cn" class="b-link-green">Deepspace</a><i class="fa fa-angle-right fa-lg fa-fw text-color"></i> <a href="/flutter-development-environment-configuration/" class="b-link-green">Flutter — 零、设置开发环境</a></p></div></div></div><div class="article" data-aos="fade-up"><div class="card relate-article-wrapper"><header class="relate-article-header">相关文章&nbsp;<i class="fa fa-arrow-right"></i></header><div class="relate-post-box"></div></div></div><div class="disqus-card card" data-aos="fade-up"><div id="disqus_thread" class="card-content"><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></div><script type="text/javascript">
    disqus_config = function () {
        this.page.url = 'https://togoblog.cn/flutter-development-environment-configuration/';
        this.page.identifier = '/flutter-development-environment-configuration/';
        this.page.title = 'Flutter — 零、设置开发环境';
    };
    let disqus_shortname = 'https-togoblog-cn';

    (function () { // DON'T EDIT BELOW THIS LINE
        let d = document, s = d.createElement('script');
        // 如：s.src = 'https://Deepspace.disqus.com/embed.js';
        s.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script></div></div><div class="col l3 hide-on-med-and-down"><div class="toc-widget"><div class="toc-title">目录</div><div id="toc-content"></div></div></div></div><script src="/libs/tocbot/tocbot.min.js"></script><script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingSelector: 'h2, h3, h4, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });
    });
</script></main><footer class="page-footer bg-color"><div class="container row center-align"><div class="col s12 m8 l8 copy-right"> <span>COPYRIGHT 2020 DEEPSPACE. ALL RIGHTS RESERVED.</span></div><div class="col s12 m4 l4 social-link"><a href="https://github.com/IDeepspace" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50"><i class="fa fa-github"></i></a><a href="mailto:cxin1427@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50"><i class="fa fa-envelope-open"></i></a><a href="#!" class="tooltipped" data-tooltip="QQ: 690862036" data-position="top" data-delay="50"><i class="fa fa-qq"></i></a><a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50"><i class="fa fa-rss"></i></a></div></div></footer><div class="progress-bar"></div><div id="searchModal" class="modal"><div class="modal-content"><div class="search-header"> <span class="title">搜索</span> <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字" class="search-input" autofocus></div><div id="searchResult"></div></div></div><script src="/js/search.js"></script><script type="text/javascript">searchFunc("/search.xml","searchInput","searchResult")</script><div id="backTop" class="top-scroll"><a class="btn-floating btn-large waves-effect waves-light" href="#!"><i class="fa fa-angle-up"></i></a></div><script src="/libs/materialize/js/materialize.min.js"></script><script src="/libs/masonry/masonry.pkgd.min.js"></script><script src="/libs/aos/aos.js"></script><script src="/libs/scrollprogress/scrollProgress.min.js"></script><script src="/libs/lightGallery/js/lightgallery-all.min.js"></script><script src="/js/matery.js"></script></body></html>